<table class="min-w-full border border-gray-200 rounded-lg">
  <thead class="bg-gray-100">
    <tr>
      <th class="px-4 py-2 text-left">Nome</th>
      <th class="px-4 py-2 text-left">Email</th>
      <th class="px-4 py-2 text-right">Ações</th>
    </tr>
  </thead>

  <tbody>
    <ng-container *ngFor="let user of users">

      <!-- Linha principal -->
      <tr class="border-t">
        <td class="px-4 py-2">{{ user.name }}</td>
        <td class="px-4 py-2">{{ user.email }}</td>
        <td class="px-4 py-2 text-right">
          <button
            (click)="toggle(user)"
            class="text-blue-600 hover:underline"
          >
            {{ expandedUser === user ? 'Ocultar' : 'Detalhes' }}
          </button>
        </td>
      </tr>

      <!-- Linha expandida -->
      <tr *ngIf="expandedUser === user" class="bg-gray-50">
        <td colspan="3" class="px-6 py-4">

          <div class="grid grid-cols-2 gap-4 text-sm">
            <div>
              <strong>Perfil:</strong> {{ user.role || 'Usuário' }}
            </div>

            <div>
              <strong>Status:</strong>
              <span class="text-green-600">Ativo</span>
            </div>

            <div>
              <strong>Criado em:</strong>
              {{ user.createdAt || '—' }}
            </div>
          </div>

          <div class="mt-4 flex gap-3">
            <button class="bg-yellow-500 text-white px-3 py-1 rounded">
              Editar
            </button>

            <button class="bg-red-600 text-white px-3 py-1 rounded">
              Excluir
            </button>

            <button class="bg-blue-600 text-white px-3 py-1 rounded">
              <a
                routerLink="/users/cadastrar"
              >
                  + Novo Usuário
              </a>
            </button>

          </div>

        </td>
      </tr>

    </ng-container>
  </tbody>
</table>
